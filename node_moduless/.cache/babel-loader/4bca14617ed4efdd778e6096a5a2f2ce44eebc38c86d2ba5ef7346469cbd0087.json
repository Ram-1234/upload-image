{"ast":null,"code":"var _jsxFileName = \"/Users/ramnayan/react/upload-image/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { lazy, Suspense, useEffect, useReducer, useMemo } from \"react\";\nimport Layout from \"./components/layout\";\nimport './App.css';\nimport photos from \"./components/data\";\nimport { initialState, reducer } from \"./components/data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = /*#__PURE__*/lazy(_c = () => import('./components/card/card'));\n_c2 = Card;\nfunction App() {\n  _s();\n  var _state$items, _state$items2;\n  // const [count, setCount] = useState('');\n  const [state, dispacth] = useReducer(reducer, initialState);\n  const toggle = bool => {\n    dispacth({\n      type: \"IS_COLLAPS\",\n      payload: bool\n    });\n  };\n  useEffect(() => {\n    dispacth({\n      type: \"SET_ITEM\",\n      payload: photos\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [photos]);\n  let count = useMemo(() => {\n    return `You have ${(state === null || state === void 0 ? void 0 : state.items.length) + 1} Image` + (state === null || state === void 0 ? void 0 : state.items.length) > 1 ? 's' : '';\n  }, [state.items]);\n\n  /* debouncing logic */\n  const handleOnChange = (fun, timeout = 500) => {\n    let timer = null;\n    return (...args) => {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        fun.apply(this, args);\n      }, timeout);\n    };\n  };\n  const saveInput = event => {\n    if (event.target.name === 'file') {\n      var _event$target, _URL, _event$target2;\n      dispacth({\n        type: \"SET_INPUT\",\n        payload: {\n          ...state.inputs,\n          file: event === null || event === void 0 ? void 0 : (_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.files[0],\n          path: (_URL = URL) === null || _URL === void 0 ? void 0 : _URL.createObjectURL(event === null || event === void 0 ? void 0 : (_event$target2 = event.target) === null || _event$target2 === void 0 ? void 0 : _event$target2.files[0])\n        }\n      });\n    } else {\n      var _event$target3;\n      dispacth({\n        type: \"SET_INPUT\",\n        payload: {\n          ...state.inputs,\n          title: event === null || event === void 0 ? void 0 : (_event$target3 = event.target) === null || _event$target3 === void 0 ? void 0 : _event$target3.value\n        }\n      });\n    }\n  };\n  const handleSubmit = event => {\n    var _state$inputs;\n    event.preventDefault();\n    dispacth({\n      type: \"SET_ITEM\",\n      payload: [(_state$inputs = state.inputs) === null || _state$inputs === void 0 ? void 0 : _state$inputs.path, ...(state === null || state === void 0 ? void 0 : state.items)]\n    });\n    dispacth({\n      type: \"SET_INPUT\",\n      payload: {\n        title: \"\",\n        file: \"\",\n        path: \"\"\n      }\n    });\n    toggle(true);\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      state: state,\n      toggle: toggle,\n      onChange: handleOnChange,\n      onSubmit: handleSubmit,\n      saveInput: saveInput,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mb-4\",\n        children: \"Gallery\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: (state === null || state === void 0 ? void 0 : (_state$items = state.items) === null || _state$items === void 0 ? void 0 : _state$items.length) && (state === null || state === void 0 ? void 0 : (_state$items2 = state.items) === null || _state$items2 === void 0 ? void 0 : _state$items2.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(Card, {\n              src: item\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 22\n            }, this);\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"2vAN7UiNYlsRxhNLds6r8oBjIDY=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Card$lazy\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","lazy","Suspense","useEffect","useReducer","useMemo","Layout","photos","initialState","reducer","jsxDEV","_jsxDEV","Card","_c","_c2","App","_s","_state$items","_state$items2","state","dispacth","toggle","bool","type","payload","count","items","length","handleOnChange","fun","timeout","timer","args","clearTimeout","setTimeout","apply","saveInput","event","target","name","_event$target","_URL","_event$target2","inputs","file","files","path","URL","createObjectURL","_event$target3","title","value","handleSubmit","_state$inputs","preventDefault","Fragment","children","onChange","onSubmit","className","fileName","_jsxFileName","lineNumber","columnNumber","fallback","map","item","index","src","_c3","$RefreshReg$"],"sources":["/Users/ramnayan/react/upload-image/src/App.js"],"sourcesContent":["import React, { lazy, Suspense, useEffect, useReducer, useMemo } from \"react\";\nimport Layout from \"./components/layout\";\nimport './App.css';\nimport photos from \"./components/data\";\nimport { initialState, reducer } from \"./components/data\";\n\nconst Card = lazy(() => import('./components/card/card'));\n\n\nfunction App() {\n  // const [count, setCount] = useState('');\n  const [state, dispacth]=useReducer(reducer, initialState);\n\n  const toggle = (bool) => {\n    dispacth({type:\"IS_COLLAPS\", payload:bool})\n  };\n\n  useEffect(() => {\n    dispacth({type:\"SET_ITEM\", payload:photos})\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [photos])\n\n  let count = useMemo(()=>{\n    return `You have ${state?.items.length  + 1} Image` + state?.items.length > 1 ? 's' : ''\n  },[state.items])\n\n  /* debouncing logic */\n  const handleOnChange = (fun, timeout = 500) => {\n    let timer = null;\n    return (...args) => {\n      clearTimeout(timer)\n      timer = setTimeout(() => { fun.apply(this, args) }, timeout)\n    }\n  }\n\n  const saveInput = (event) => {\n    if (event.target.name === 'file') {\n      dispacth({type:\"SET_INPUT\", payload:{...state.inputs, file: event?.target?.files[0], path: URL?.createObjectURL(event?.target?.files[0])}})\n    } else{\n      dispacth({type:\"SET_INPUT\", payload:{ ...state.inputs, title: event?.target?.value }})\n    }\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    dispacth({type:\"SET_ITEM\", payload:[state.inputs?.path, ...state?.items]})\n    dispacth({type:\"SET_INPUT\", payload:{title: \"\", file: \"\", path: \"\" }})\n    toggle(true)\n  }\n\n  return (\n    <React.Fragment>\n    <Layout\n    state={state}\n    toggle={toggle}\n    onChange={handleOnChange}\n    onSubmit={handleSubmit}\n    saveInput={saveInput}\n    >\n        <div className=\"mb-2\">{count}</div>\n        <h1 className=\"mb-4\">Gallery</h1>\n        <Suspense fallback={<h4>Loading...</h4>}>\n          <div className=\"row\" >\n            {state?.items?.length && state?.items?.map((item, index) => {\n              return <Card key={index} src={item} />\n            })}\n          </div>\n        </Suspense>\n    </Layout>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}